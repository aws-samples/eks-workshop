---
title: "Configure ArgoCD"
weight: 20
draft: false
---

As the Argo CD has been deployed, we now need to configure argocd-server and then login:

### Expose argocd-server

By default argocd-server is not publicaly exposed. For the purpose of this workshop, we will use a Load Balancer to make it usable:
```
kubectl patch svc argocd-server -n argocd -p '{"spec": {"type": "LoadBalancer"}}'
```

Wait about 2 minutes for the LoadBalancer creation
```
export ARGOCD_SERVER=`kubectl get svc argocd-server -n argocd -o json | jq --raw-output '.status.loadBalancer.ingress[0].hostname'`
```

### Login
The initial password is autogenerated with the pod name of the ArgoCD API server (Argo CD 1.8 and earlier):
```
export ARGO_PWD=`kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d`
```

The initial password for the admin account is auto-generated and stored as clear text in the field password in a secret named argocd-initial-admin-secret in your Argo CD installation namespace. You can simply retrieve this password using kubectl (Argo CD v1.9 and later):
```
ARGO_PWD=`kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d`
```

Using `admin` as login and the autogenerated password:
```
argocd login $ARGOCD_SERVER --username admin --password $ARGO_PWD --insecure
```

You should get as an output:
```
'admin' logged in successfully
```
